# ✨ 绯色回响抽卡模拟器 (Scarlet Echo Gacha Simulator)

> 一个基于 HTML5 + JavaScript 开发的高还原度移动端抽卡模拟器。
> 支持离线运行、自定义卡池配置、真实概率模拟及安卓 APK 打包。

## 📱 项目简介

本项目是一个**纯前端**的 Web 应用，旨在模拟手游《绯色回响》的抽卡体验。项目采用深色科幻风格 UI，完全适配移动端操作逻辑，并包含完整的保底机制。

## 🚀 核心功能

* **⚖️ 概率精准还原**：
  * **MR + UR**: 2.2% (其中 MR 占 40%, UR 占 60%)
  * **SSR**: 5%
  * **SR**: 17%
  * **R**: 剩余概率
* **🛡️ 完整的保底机制**：
  * **小保底**：60 抽必出 MR 或 UR。
  * **大保底（歪了机制）**：若上一次保底出的不是 MR，则下一次保底必中 MR。
  * **十连低保**：十连抽必中至少一个 SR 或以上角色。
* **⚙️ 自定义卡池系统**：
  * 内置“编辑卡池”功能，用户可手动勾选进入卡池的 MR/UR 角色。
  * 实现“自选 UP 池”体验。
* **🖼️ 视觉体验**：
  * 卡牌翻转动画。
  * SSR/MR/UR 稀有度特效边框。
  * 实时滚动日志记录欧气时刻。
* **📦 移动端优化**：
  * 禁用缩放，适配刘海屏。
  * 支持打包为 Android APK，安装即玩（离线）。

## 📂 项目结构

```text
GachaSim/
├── index.html          # 核心代码（HTML结构 + CSS样式 + JS逻辑）
├── images/             # 角色立绘图片文件夹
│   ├── ren.jpg         # 图片需命名为拼音/英文
│   ├── taotie.jpg
│   └── default.jpg     # 默认占位图
├── icon.png            # APP 图标 (72x72 或更高)
└── manifest.json       # HBuilderX 打包配置文件
```

## 🛠️ 如何运行与开发

### 1. 浏览器运行

直接双击打开 `index.html` 即可在浏览器中预览。
*建议使用 Chrome 浏览器的“开发者工具”切换为手机模式查看效果。*

### 2. 添加新角色

如果您想添加新的游戏角色，请遵循以下步骤：

1. **准备图片**：找到角色立绘，保存为 `.jpg` 格式。
2. **重命名**：将图片文件名改为**全小写拼音或英文**（例如：`jiubeiwei.jpg`），放入 `images/` 文件夹。
3. **修改代码**：打开 `index.html`，找到 `<script>` 区域：
    * 在 `ROLE_DATA` 中添加角色的**中文名**。
    * 在 `IMG_MAP` 中添加映射关系：`"中文名": "拼音文件名"`。

```javascript
// 示例：添加新角色
const ROLE_DATA = {
    MR: ["刃", "新角色", ...], // 1. 在这里加名字
    ...
};

const IMG_MAP = {
    "刃": "ren",
    "新角色": "...", // 2. 在这里加映射
    ...
};
```

## 📦 APK 打包指南 (使用 HBuilderX)

本项目专为 HBuilderX 优化，可一键打包为安卓应用。

1. **导入项目**：打开 HBuilderX -> 文件 -> 打开目录 -> 选择本项目文件夹。
2. **配置图标**：打开 `manifest.json` -> 图标配置 -> 选择图片并点击“自动生成所有图标并替换”。
3. **检查权限**：确保 `manifest.json` 中**没有**勾选“通讯录”、“相机”等敏感权限（仅保留基础权限）。
4. **开始打包**：
    * 点击菜单栏 **发行** -> **原生App-云打包**。
    * 选择 **Android**。
    * 证书选择 **使用公共测试证书**（或您自己的云端证书）。
    * 点击 **打包**。
5. 等待打包完成后，下载 APK 发送到手机安装即可。

## ⚠️ 注意事项

1. **图片加载失败？** 请检查 `IMG_MAP` 中的拼音是否与 `images/` 文件夹下的文件名完全一致（区分大小写，不要有空格）。
2. **部分手机安装报毒？** 由于使用的是测试证书打包，部分手机可能会提示“未知来源”或“风险”，这是正常现象，选择信任安装即可。
3. **版权声明**：本项目仅供学习与娱乐，所有游戏素材（图片、角色名）版权归原游戏公司所有。
